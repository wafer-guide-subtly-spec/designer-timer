<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Design-odoro</title>

  <!-- External Dependencies -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.0.3/dist/tailwind.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.4.0/dist/confetti.browser.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;700&display=swap" rel="stylesheet"/>

  <style>
    /* Base Styles */
    body {
      font-family: 'Poppins', sans-serif;
    }

    /* Glassmorphic Components */
    .glass {
      background: rgba(255, 255, 255, 0.15);
      border-radius: 1rem;
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.05);
    }

    /* Ambient Background System */
    #ambientBackground {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(120deg, #a0e9ff 0%, #c4c1ff 50%, #f5e6ff 100%);
      background-size: 100% 100%;
      z-index: -1;
      opacity: 0;
      transition: opacity 1s ease;
    }

    #ambientOverlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      background: linear-gradient(120deg, #1a1c22 0%, #2a2f38 50%, #3d3f50 100%);
      opacity: 0;
      transition: opacity 2s ease-in-out;
      pointer-events: none;
    }

    /* Cloud Animation System */
    .clouds {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
    }

    .cloud {
      position: absolute;
      background-color: rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      animation: moveClouds linear infinite, floatClouds ease-in-out infinite;
    }

    /* Cloud Keyframes */
    @keyframes moveClouds {
      0% { transform: translateX(-150%) scale(1); }
      100% { transform: translateX(150%) scale(1.1); }
    }

    @keyframes floatClouds {
      0% { transform: translateY(0) scale(1); }
      50% { transform: translateY(-10px) scale(1.05); }
      100% { transform: translateY(0) scale(1); }
    }

    /* Individual Cloud Configurations */
    .cloud1 { width: 120px; height: 60px; top: 20%; left: 10%; animation-duration: 18s, 6s; }
    .cloud2 { width: 150px; height: 75px; top: 50%; left: 20%; animation-duration: 22s, 5s; }
    .cloud3 { width: 100px; height: 50px; top: 70%; left: 30%; animation-duration: 15s, 8s; }
    .cloud4 { width: 180px; height: 90px; top: 40%; left: 50%; animation-duration: 20s, 7s; }
    .cloud5 { width: 140px; height: 70px; top: 60%; left: 70%; animation-duration: 16s, 6s; }
    .cloud6 { width: 160px; height: 80px; top: 25%; left: 75%; animation-duration: 24s, 9s; }
    .cloud7 { width: 110px; height: 55px; top: 35%; left: 5%; animation-duration: 21s, 5s; }
    .cloud8 { width: 190px; height: 95px; top: 65%; left: 40%; animation-duration: 26s, 7s; }
    .cloud9 { width: 130px; height: 65px; top: 45%; left: 85%; animation-duration: 18s, 6s; }

    /* Dark Mode Theme */
    body.dark-mode {
      background: linear-gradient(120deg, #1a1c22, #2a2f38);
      color: #f1f5f9;
    }

    body.dark-mode .glass {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
    }

    body.dark-mode .text-gray-800,
    body.dark-mode .text-gray-700,
    body.dark-mode .text-gray-600,
    body.dark-mode .text-gray-500 {
      color: #f1f5f9 !important;
    }

    body.dark-mode .bg-white {
      background-color: rgba(255, 255, 255, 0.05) !important;
    }

    body.dark-mode .bg-gray-100 {
      background-color: rgba(255, 255, 255, 0.08) !important;
    }

    body.dark-mode .border-gray-300 {
      border-color: rgba(255, 255, 255, 0.2) !important;
    }

    body.dark-mode #toggleDarkMode,
    body.dark-mode button[onclick="showApiKeySettings()"] {
      background-color: #2f2f2f;
      color: #e2e8f0;
    }

    body.dark-mode #toggleDarkMode:hover,
    body.dark-mode button[onclick="showApiKeySettings()"]:hover {
      background-color: #3b3b3b;
    }

    body.dark-mode #ambientBackground {
      background: linear-gradient(120deg, #1a1c22 0%, #2a2f38 50%, #3d3f50 100%);
    }

    body.dark-mode #ambientOverlay {
      opacity: 1;
    }

    /* Reset Button Dark Mode */
    body.dark-mode #resetButton {
      border-color: #ef4444;
      color: #ef4444;
    }

    body.dark-mode #resetButton:hover {
      background-color: rgba(239, 68, 68, 0.1);
      border-color: #dc2626;
      color: #dc2626;
    }

    /* UI Animations */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    #challengeDisplay.fade-in {
      animation: fadeIn 1s ease-in-out;
    }

    /* Responsive Design */
    @media (max-width: 640px) {
      #challengeDisplay {
        padding: 1rem;
      }
    }

    /* Smooth Transitions */
    body,
    .glass,
    #challengeDisplay,
    #ambientBackground {
      transition: background 0.6s ease, color 0.4s ease, border-color 0.4s ease;
    }

    /* Timer Completion Animations */
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
      20%, 40%, 60%, 80% { transform: translateX(10px); }
    }

    @keyframes buzz {
      0%, 100% { transform: scale(1) rotate(0deg); }
      25% { transform: scale(1.05) rotate(1deg); }
      50% { transform: scale(1.1) rotate(-1deg); }
      75% { transform: scale(1.05) rotate(1deg); }
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.2); opacity: 0.7; }
    }

    .shake-animation {
      animation: shake 0.8s ease-in-out 3;
    }

    .buzz-animation {
      animation: buzz 0.5s ease-in-out 4;
    }

    .pulse-animation {
      animation: pulse 1s ease-in-out 3;
    }

    /* Fireworks Container */
    #fireworksContainer {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1000;
      overflow: hidden;
    }

    /* Firework Particle */
    .firework {
      position: absolute;
      width: 4px;
      height: 4px;
      border-radius: 50%;
      pointer-events: none;
    }

    @keyframes firework-explosion {
      0% {
        transform: translate(0, 0) scale(0);
        opacity: 1;
      }
      50% {
        opacity: 1;
      }
      100% {
        transform: translate(var(--dx, 0), var(--dy, 0)) scale(1);
        opacity: 0;
      }
    }

    .firework-particle {
      animation: firework-explosion 1.5s ease-out forwards;
    }

    /* Celebration Flash */
    @keyframes celebration-flash {
      0%, 100% { background-color: transparent; }
      50% { background-color: rgba(255, 215, 0, 0.3); }
    }

    .celebration-flash {
      animation: celebration-flash 0.3s ease-in-out 3;
    }

    /* Button Focus Fix */
    button {
      outline: none !important;
      -webkit-tap-highlight-color: transparent;
    }

    button:focus {
      outline: none !important;
    }

    button:active {
      transform: scale(0.98);
    }

    /* Ensure color classes work properly */
    .bg-green-500 {
      background-color: #10b981 !important;
    }

    .bg-green-500:hover {
      background-color: #059669 !important;
    }

    .bg-blue-500 {
      background-color: #3b82f6 !important;
    }

    .bg-blue-500:hover {
      background-color: #2563eb !important;
    }

    .bg-orange-500 {
      background-color: #f97316 !important;
    }

    .bg-orange-500:hover {
      background-color: #ea580c !important;
    }

    .bg-red-500 {
      background-color: #ef4444 !important;
    }

    .bg-red-500:hover {
      background-color: #dc2626 !important;
    }

    .bg-yellow-500 {
      background-color: #eab308 !important;
    }

    .bg-yellow-500:hover {
      background-color: #ca8a04 !important;
    }

    .bg-yellow-600 {
      background-color: #d97706 !important;
    }

    .bg-yellow-600:hover {
      background-color: #b45309 !important;
    }

    .bg-purple-500 {
      background-color: #a855f7 !important;
    }

    .bg-purple-500:hover {
      background-color: #9333ea !important;
    }

    .bg-pink-500 {
      background-color: #ec4899 !important;
    }

    .bg-pink-500:hover {
      background-color: #db2777 !important;
    }
  </style>
</head>

<body class="bg-white text-gray-800 min-h-screen py-8">
  <!-- Fireworks Container -->
  <div id="fireworksContainer"></div>
  
  <!-- Ambient Background for Break Mode -->
  <div id="ambientBackground">
    <div class="clouds">
      <div class="cloud cloud1"></div>
      <div class="cloud cloud2"></div>
      <div class="cloud cloud3"></div>
      <div class="cloud cloud4"></div>
      <div class="cloud cloud5"></div>
      <div class="cloud cloud6"></div>
      <div class="cloud cloud7"></div>
      <div class="cloud cloud8"></div>
      <div class="cloud cloud9"></div>
    </div>
  </div>

  <!-- Main Content Container -->
  <div class="w-full max-w-4xl text-center px-4 pb-20 mx-auto">
    <!-- Page Title -->
    <h1 class="text-4xl font-semibold mb-8 tracking-wider leading-tight text-gray-800">
      Design-odoro
    </h1>

    <!-- Settings and Dark Mode Controls -->
    <div class="fixed bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2 z-50">
      <!-- API Settings Button -->
      <button
        onclick="showApiKeySettings()"
        class="bg-gray-200 text-gray-800 px-4 py-1 rounded-full text-sm shadow hover:bg-gray-300 transition-all duration-200 hover:shadow-md transform hover:scale-105"
        title="Configure OpenAI API Key"
      >
        <i class="fas fa-cog"></i> API Settings
      </button>
      
      <!-- Dark Mode Toggle -->
      <button
        id="toggleDarkMode"
        class="bg-gray-200 text-gray-800 px-4 py-1 rounded-full text-sm shadow hover:bg-gray-300 transition-all duration-200 hover:shadow-md transform hover:scale-105"
      >
        <i class="fas fa-moon"></i> Dark Mode
      </button>
    </div>

    <!-- Timer Controls Container -->
    <div class="glass p-8 rounded-2xl mb-10 relative">
      <!-- Timer Displays -->
      <div class="relative mb-12 h-48">
        <!-- Work Timer -->
        <div class="absolute left-1/2 transform -translate-x-full text-center">
          <div class="text-lg font-semibold text-gray-600 mb-4">Work Timer</div>
          <div id="timerDisplay" class="text-7xl font-medium mb-6 w-64 mx-auto font-mono">25:00</div>
          <button id="startWorkButton" class="bg-green-500 hover:bg-green-600 text-white py-2 px-8 rounded-full transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105">
            <i class="fas fa-play mr-2"></i>Start
          </button>
        </div>

        <!-- Break Timer -->
        <div class="absolute left-1/2 transform translate-x-0 text-center">
          <div class="text-lg font-semibold text-gray-600 mb-4">Break Timer</div>
          <div id="breakTimerDisplay" class="text-7xl font-medium mb-6 w-64 mx-auto font-mono">5:00</div>
          <button id="startBreakButton" class="bg-green-500 hover:bg-green-600 text-white py-2 px-8 rounded-full transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105">
            <i class="fas fa-play mr-2"></i>Start
          </button>
        </div>
      </div>

      <!-- Timer Settings Dropdown -->
      <div class="mb-4 text-center">
        <button id="settingsToggle" class="bg-gray-500 hover:bg-gray-600 text-white py-2 px-6 rounded-full transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105 flex items-center gap-2 mx-auto">
          <i class="fas fa-cog"></i>
          <span>Timer Settings</span>
          <i id="settingsChevron" class="fas fa-chevron-down transition-transform duration-200"></i>
        </button>
        
        <div id="settingsPanel" class="mt-4 overflow-hidden transition-all duration-300 ease-in-out" style="max-height: 0;">
          <div class="bg-gray-50 rounded-lg p-6 border border-gray-200">
            <!-- Work Timer Length Selection -->
            <div class="mb-6">
              <h3 class="text-sm text-gray-700 mb-3">Select Work Timer Length:</h3>
              <div class="flex justify-center flex-wrap gap-3">
                <button class="timer-button bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-full transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105" data-time="1">1 min</button>
                <button class="timer-button bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-full transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105" data-time="5">5 min</button>
                <button class="timer-button bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-full transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105" data-time="10">10 min</button>
                <button class="timer-button bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-full transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105" data-time="15">15 min</button>
                <button class="timer-button bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-full transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105" data-time="20">20 min</button>
                <button class="timer-button bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-full transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105" data-time="25">25 min</button>
              </div>
            </div>

            <!-- Break Timer Length Selection -->
            <div>
              <h3 class="text-sm text-gray-700 mb-3">Select Break Timer Length:</h3>
              <div class="flex justify-center flex-wrap gap-3">
                <button class="break-button bg-purple-500 hover:bg-purple-600 text-white py-2 px-4 rounded-full transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105" data-time="1">1 min</button>
                <button class="break-button bg-purple-500 hover:bg-purple-600 text-white py-2 px-4 rounded-full transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105" data-time="2">2 min</button>
                <button class="break-button bg-purple-500 hover:bg-purple-600 text-white py-2 px-4 rounded-full transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105" data-time="5">5 min</button>
                <button class="break-button bg-purple-500 hover:bg-purple-600 text-white py-2 px-4 rounded-full transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105" data-time="10">10 min</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Reset Button -->
      <button id="resetButton" class="absolute bottom-4 right-4 bg-transparent border-2 border-red-500 text-red-500 hover:bg-red-50 hover:border-red-600 hover:text-red-600 py-2 px-4 rounded-full transition-all duration-200 font-medium shadow-sm hover:shadow-md">
        <i class="fas fa-redo-alt mr-2"></i>Reset
      </button>
    </div>

    <!-- Design Tip Display -->
    <div id="challengeDisplay" class="glass mt-12 text-xl text-gray-700 border border-gray-300 rounded-xl p-10 shadow-xl bg-white max-w-3xl mx-auto relative">
      <div class="absolute top-4 left-4 bg-gradient-to-r from-purple-500 to-blue-600 text-white text-sm font-bold px-4 py-1 rounded-lg shadow-md">
        <i class="fas fa-lightbulb mr-2"></i>Quick Design Tip
      </div>
      <div class="text-xl font-medium text-gray-800 leading-relaxed px-4 py-2 min-h-[80px] flex items-center mt-8">
        Finish your work session to get a design tip!
      </div>
    </div>

    <!-- Session Counter -->
    <div id="sessionCount" class="mt-4 text-sm text-gray-500">
      Sessions Completed: 0
    </div>
  </div>

  <!-- JavaScript -->
  <script src="app.js"></script>
</body>
</html>
